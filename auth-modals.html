<!-- Auth Modal -->
<div id="authModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="z-index: 9999;">
  <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4" style="background-color: #f2eceb; border: 2px solid #d4cac7;">
    <div class="flex items-center justify-between p-6 border-b" style="border-color: #d4cac7;">
      <h2 class="text-2xl font-bold" style="color: #422d1e;">Welcome to SwoopSpotter</h2>
      <button id="closeAuthModal" class="text-gray-500 hover:text-gray-700">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    
    <!-- Tabs -->
    <div class="flex border-b" style="border-color: #d4cac7;">
      <button id="signInTab" class="flex-1 py-3 px-4 text-center font-medium active" style="border-bottom: 2px solid #422d1e; color: #422d1e;">
        Sign In
      </button>
      <button id="signUpTab" class="flex-1 py-3 px-4 text-center font-medium" style="color: #422d1e; opacity: 0.6;">
        Sign Up
      </button>
    </div>
    
    <!-- Sign In Form -->
    <form id="signInForm" class="p-6">
      <div class="mb-4">
        <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Email</label>
        <input type="email" id="signInEmail" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;">
      </div>
      <div class="mb-4">
        <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Password</label>
        <input type="password" id="signInPassword" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;">
      </div>
      <div id="signInError" class="hidden mb-4 p-3 rounded" style="background-color: #FEE2E2; color: #991B1B;"></div>
      <button type="submit" class="w-full text-white py-2 px-4 rounded-lg font-medium" style="background-color: #422d1e;">
        Sign In
      </button>
    </form>
    
    <!-- Sign Up Form -->
    <form id="signUpForm" class="hidden p-6">
      <div class="mb-4">
        <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Display Name</label>
        <input type="text" id="signUpName" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;">
      </div>
      <div class="mb-4">
        <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Email</label>
        <input type="email" id="signUpEmail" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;">
      </div>
      <div class="mb-4">
        <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Password</label>
        <input type="password" id="signUpPassword" required minlength="6" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;">
      </div>
      <div id="signUpError" class="hidden mb-4 p-3 rounded" style="background-color: #FEE2E2; color: #991B1B;"></div>
      <button type="submit" class="w-full text-white py-2 px-4 rounded-lg font-medium" style="background-color: #422d1e;">
        Sign Up
      </button>
    </form>
  </div>
</div>

<!-- Profile Modal -->
<div id="profileModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="z-index: 9999;">
  <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto" style="background-color: #f2eceb; border: 2px solid #d4cac7;">
    <div class="flex items-center justify-between p-6 border-b" style="border-color: #d4cac7;">
      <h2 class="text-2xl font-bold" style="color: #422d1e;">My Profile</h2>
      <button id="closeProfileModal" class="text-gray-500 hover:text-gray-700">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    
    <!-- Profile Header -->
    <div class="p-6 border-b" style="border-color: #d4cac7;">
      <div class="flex items-center gap-4">
        <img id="profileAvatar" src="Assets/Users Icons/user_1.svg" alt="Avatar" class="w-20 h-20 rounded-full" style="border: 3px solid #422d1e;">
        <div>
          <h3 id="profileDisplayName" class="text-xl font-bold" style="color: #422d1e;"></h3>
          <p id="profileEmail" class="text-sm" style="color: #422d1e; opacity: 0.7;"></p>
          <p id="profileJoined" class="text-xs mt-1" style="color: #422d1e; opacity: 0.6;"></p>
        </div>
      </div>
      <p id="profileBio" class="mt-4 text-sm italic" style="color: #422d1e; opacity: 0.8;"></p>
    </div>
    
    <!-- New User Welcome Message -->
    <div id="newUserWelcome" class="hidden p-4 mx-6 mt-6 rounded" style="background-color: #DCFCE7; border-left: 3px solid #059669;">
      <p class="text-sm font-medium" style="color: #14532D;">
        ðŸŽ‰ Welcome to SwoopSpotter! Complete your profile below to personalize your experience.
      </p>
    </div>
    
    <!-- Tabs -->
    <div class="flex border-b" style="border-color: #d4cac7;">
      <button id="profileStatsTab" class="flex-1 py-3 px-4 text-center font-medium active" style="border-bottom: 2px solid #422d1e; color: #422d1e; opacity: 1;">
        Statistics
      </button>
      <button id="profileEditTab" class="flex-1 py-3 px-4 text-center font-medium" style="color: #422d1e; opacity: 0.6; border-color: transparent;">
        Edit Profile
      </button>
    </div>
    
    <!-- Stats Content -->
    <div id="profileStatsContent" class="p-6">
      <h3 class="text-lg font-bold mb-4" style="color: #422d1e;">Your Contributions</h3>
      <div class="grid grid-cols-3 gap-4 mb-6">
        <div class="text-center p-4 rounded" style="background-color: white; border: 2px solid #d4cac7;">
          <div class="text-3xl font-bold" style="color: #422d1e;" id="statSpotsCreated">0</div>
          <div class="text-sm" style="color: #422d1e; opacity: 0.7;">Spots Created</div>
        </div>
        <div class="text-center p-4 rounded" style="background-color: white; border: 2px solid #d4cac7;">
          <div class="text-3xl font-bold" style="color: #422d1e;" id="statReportsCreated">0</div>
          <div class="text-sm" style="color: #422d1e; opacity: 0.7;">Reports Added</div>
        </div>
        <div class="text-center p-4 rounded" style="background-color: white; border: 2px solid #d4cac7;">
          <div class="text-3xl font-bold" style="color: #422d1e;" id="statSafePassages">0</div>
          <div class="text-sm" style="color: #422d1e; opacity: 0.7;">Safe Passages</div>
        </div>
      </div>
      
      <h3 class="text-lg font-bold mb-4" style="color: #422d1e;">Recent Activity</h3>
      <div id="profileRecentActivity" class="space-y-2">
        <span style="color: #422d1e; opacity: 0.6;" class="text-sm">Loading...</span>
      </div>
    </div>
    
    <!-- Edit Profile Content -->
    <div id="profileEditContent" class="hidden p-6">
      <form id="profileEditForm">
        <div class="mb-4">
          <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Display Name</label>
          <input type="text" id="editDisplayName" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;">
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Avatar</label>
          <input type="hidden" id="selectedAvatar" value="user_1.svg">
          <div class="grid grid-cols-5 gap-3">
            <button type="button" class="avatar-btn p-2 rounded border-2 hover:bg-gray-100" data-avatar="user_1.svg" style="border-color: transparent;">
              <img src="Assets/Users Icons/user_1.svg" alt="Avatar 1" class="w-full h-auto">
            </button>
            <button type="button" class="avatar-btn p-2 rounded border-2 hover:bg-gray-100" data-avatar="user_2.svg" style="border-color: transparent;">
              <img src="Assets/Users Icons/user_2.svg" alt="Avatar 2" class="w-full h-auto">
            </button>
            <button type="button" class="avatar-btn p-2 rounded border-2 hover:bg-gray-100" data-avatar="user_3.svg" style="border-color: transparent;">
              <img src="Assets/Users Icons/user_3.svg" alt="Avatar 3" class="w-full h-auto">
            </button>
            <button type="button" class="avatar-btn p-2 rounded border-2 hover:bg-gray-100" data-avatar="user_4.svg" style="border-color: transparent;">
              <img src="Assets/Users Icons/user_4.svg" alt="Avatar 4" class="w-full h-auto">
            </button>
            <button type="button" class="avatar-btn p-2 rounded border-2 hover:bg-gray-100" data-avatar="user_5.svg" style="border-color: transparent;">
              <img src="Assets/Users Icons/user_5.svg" alt="Avatar 5" class="w-full h-auto">
            </button>
          </div>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-2" style="color: #422d1e;">Bio (optional)</label>
          <textarea id="editBio" rows="3" maxlength="200" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2" style="border-color: #d4cac7; background-color: white;" placeholder="Tell us a bit about yourself..."></textarea>
          <p class="text-xs mt-1" style="color: #422d1e; opacity: 0.6;">Max 200 characters</p>
        </div>
        
        <div id="profileEditError" class="hidden mb-4 p-3 rounded" style="background-color: #FEE2E2; color: #991B1B;"></div>
        <div id="profileEditSuccess" class="hidden mb-4 p-3 rounded" style="background-color: #DCFCE7; color: #14532D;"></div>
        
        <div class="flex gap-3">
          <button type="submit" class="flex-1 text-white py-2 px-4 rounded-lg font-medium" style="background-color: #422d1e;">
            Save Changes
          </button>
          <button type="button" id="cancelEditProfile" class="flex-1 py-2 px-4 rounded-lg font-medium" style="background-color: white; border: 2px solid #d4cac7; color: #422d1e;">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
